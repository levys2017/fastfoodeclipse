<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="../templates/template.xhtml">

	

		 <title>..::FASTFOOD- CADASTRO::..</title>

	<ui:define name="conteudo">
		<h:form id="fprinc">
					
						<div>
							<h2>Pedidos</h2>
						</div>
					       
					    <p:dataTable id="tip" var="p" value="#{principalbean.pedidoSelected}" selectionMode="single" selection="#{principalbean.pedidoSelectedTable}" rowKey="#{p.id}"  emptyMessage="Nenhum item selecionado" reflow="true">
							<p:ajax event="rowSelect" listener="#{principalbean.pedidoSelectedTable}" update=":fprinc tip"></p:ajax>
									<p:column headerText="Código" width="70">
										<h:outputText value="#{p.id}"></h:outputText>						
									</p:column>
									<p:column headerText="Descrição">
										<h:outputText value="#{principalbean.itemPedidoSelected.produto.descricao}"></h:outputText>						
									</p:column>

									<p:column headerText="Status" width="200">
										<h:outputText value= "#{principalbean.status()}"></h:outputText>	
									</p:column>
									
									<p:column width="200">  
						           	<p:commandButton value="Aceitar" action="#{principalbean.aceitarPedido()}" update="tip"/>		    
									<p:commandButton value="Finalizar" action="#{principalbean.finalizarPedido()}"/>
						            
									</p:column>
										
						</p:dataTable>

						<p:dialog header="Item" widgetVar="pDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
					        <p:outputPanel id="pDetail" style="text-align:center;">
					            <p:panelGrid  columns="2" rendered="#{principalbean.itemPedidoSelected.id>0}" columnClasses="label,value">
					                <h:outputText value="" />
					                <h:outputText value="#{principalbean.produtoSelected}" />
						
								</p:panelGrid>
				        	</p:outputPanel>
				    	</p:dialog>
		</h:form>
		
		
		
		
	</ui:define>
</ui:composition>